<!DOCTYPE html>
<html>
<head>
</head>
<body>
<div>#include "Player.h"</div>
<div>#include "Game.h"</div>
<div></div>
<div>Player::Player(SDL_Texture *tex, double x, double y)</div>
<div>: SpriteExAnimated(tex, x - 50, y - 50, 0, 1, 4, 0.1f)</div>
<div>{</div>
<div></div>
<div>spriteSrcRect = { 0,0,100,100 };</div>
<div>spriteDestRect = { (int)(m_X - 50),(int) (m_Y-50)&nbsp; ,100,100 };</div>
<div>}</div>
<div></div>
<div>Player::~Player()</div>
<div>{</div>
<div></div>
<div></div>
<div>}</div>
<div></div>
<div></div>
<div>void Player::Render()</div>
<div>{</div>
<div>//rendering bullets here</div>
<div>for (int i = 0; i &lt; (int)m_vBullets.size(); i++)</div>
<div>m_vBullets[i]-&gt;Render();</div>
<div></div>
<div>this-&gt;SpriteExAnimated::Render(); //invoke the base class's Render()</div>
<div></div>
<div>}</div>
<div></div>
<div></div>
<div>void Player::SetIdle()</div>
<div>{</div>
<div>spriteSrcRect.y = 0;</div>
<div>m_iFrame = 0;</div>
<div>m_iSprite = 0;</div>
<div>}</div>
<div></div>
<div>void Player::Update()</div>
<div>{</div>
<div>//implement a rotation mechanism</div>
<div></div>
<div>if (Game::Instance()-&gt;KeyDown(SDL_SCANCODE_A))</div>
<div>angle -= 6.0;</div>
<div>else if (Game::Instance()-&gt;KeyDown(SDL_SCANCODE_D))</div>
<div>angle += 6.0;</div>
<div></div>
<div>this-&gt;UpdateBullets();</div>
<div>}</div>
<div></div>
<div></div>
<div>void Player::UpdateBullets()</div>
<div>{</div>
<div>for (int i = 0; i &lt; (int)m_vBullets.size(); i++)</div>
<div>{</div>
<div>m_vBullets[i]-&gt;Update();</div>
<div></div>
<div>if (m_vBullets[i]-&gt;m_X &lt; 0 || m_vBullets[i]-&gt;m_X &gt;</div>
<div>1024 ||</div>
<div>m_vBullets[i]-&gt;m_Y &lt; 0 || m_vBullets[i]-&gt;m_Y &gt; 768)</div>
<div>{</div>
<div>delete m_vBullets[i];</div>
<div>m_vBullets[i] = nullptr;</div>
<div>m_vBullets.erase(m_vBullets.begin() + i);</div>
<div></div>
<div></div>
<div></div>
<div>}</div>
<div></div>
<div>}</div>
<div></div>
<div>m_vBullets.shrink_to_fit();</div>
<div></div>
<div></div>
<div>}</div>
<div></div>
<div>void Player::SpawnBullet()</div>
<div>{</div>
<div>//converting the player spaceship's angle to deltaX and deltaY&nbsp;</div>
<div>float dx = (float)cos((angle - 90) * M_PI / 180);</div>
<div>float dy = (float)sin((angle - 90) * M_PI / 180);</div>
<div></div>
<div>m_vBullets.push_back(new Bullet(texture, m_X, m_Y, angle, dx, dy));</div>
<div></div>
<div>}</div>
</body>
</html>